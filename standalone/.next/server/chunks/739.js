exports.id=739,exports.ids=[739],exports.modules={17382:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n,l,s=i(6413);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let r=function(e){return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),n||(n=s.createElement("defs",null,s.createElement("path",{id:"clear_svg__a",d:"M0 0h16v16H0z"}))),s.createElement("g",null,l||(l=s.createElement("mask",{id:"clear_svg__b",fill:"#fff"},s.createElement("use",{xlinkHref:"#clear_svg__a"}))),s.createElement("g",{mask:"url(#clear_svg__b)"},s.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M1 9.67h8.67l1-9.67H0l1 9.67Z",transform:"translate(2.667 5)"}),s.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(6.667 8.334)"}),s.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"M0 0v3.33",transform:"translate(9.334 8.333)"}),s.createElement("path",{style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},d:"m0 4 5.44-4L8 4",transform:"translate(4 1)"}))))}},35172:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Settings:()=>eg});var n,l,s,a,r,c,o,p,u,d=i(95344),g=i(3729),h=i(99458),S=i.n(h),x=i(30841),T=i(32263),m=i(26989),b=i(81482),y=i(17382),A=i(39866),P=i(9127),v=i(6413);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let j=function(e){return v.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 24 24"},e),n||(n=v.createElement("path",{fill:"currentColor",d:"M12.832 21.801c3.126-.626 7.168-2.875 7.168-8.69 0-5.291-3.873-8.815-6.658-10.434-.619-.36-1.342.113-1.342.828v1.828c0 1.442-.606 4.074-2.29 5.169-.86.559-1.79-.278-1.894-1.298l-.086-.838c-.1-.974-1.092-1.565-1.87-.971C4.461 8.46 3 10.33 3 13.11 3 20.221 8.289 22 10.933 22q.232 0 .484-.015C10.111 21.874 8 21.064 8 18.444c0-2.05 1.495-3.435 2.631-4.11.306-.18.663.055.663.41v.59c0 .45.175 1.155.59 1.637.47.546 1.159-.026 1.214-.744.018-.226.246-.37.442-.256.641.375 1.46 1.175 1.46 2.473 0 2.048-1.129 2.99-2.168 3.357"})))};var Z=i(32168),f=i(13262),E=i(81757);function k(){return(k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let w=function(e){return v.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),v.createElement("g",null,l||(l=v.createElement("mask",{id:"config_svg__b",fill:"#fff"},v.createElement("use",{xlinkHref:"#config_svg__a"}))),v.createElement("g",{mask:"url(#config_svg__b)"},v.createElement("path",{style:{fill:"#333",opacity:1},d:"M13.833 4h-2a.665.665 0 0 1-.471-1.138.664.664 0 0 1 .471-.195h2a.665.665 0 0 1 .654.796.666.666 0 0 1-.654.537zM9.833 2v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V2a.665.665 0 0 1 1.037-.554.665.665 0 0 1 .296.554z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 4H1.833a.665.665 0 0 1-.554-1.037.665.665 0 0 1 .554-.296h7.333a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.296zM4.5 8.667H1.833A.665.665 0 0 1 1.28 7.63a.665.665 0 0 1 .554-.297H4.5a.665.665 0 0 1 .555 1.037.665.665 0 0 1-.555.297zM7.833 6.667v2.667a.665.665 0 0 1-1.037.554.665.665 0 0 1-.296-.554V6.667a.665.665 0 0 1 1.037-.555.665.665 0 0 1 .296.555z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"M14.5 8.667H7.167a.665.665 0 0 1-.555-1.037.665.665 0 0 1 .555-.297H14.5a.665.665 0 0 1 .471 1.138.664.664 0 0 1-.471.196zM13.833 13.333h-2a.666.666 0 1 1 0-1.333h2a.666.666 0 1 1 0 1.333zM9.833 11.333V14a.665.665 0 0 1-.796.654A.666.666 0 0 1 8.5 14v-2.667a.665.665 0 0 1 1.138-.471.664.664 0 0 1 .195.471z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"M9.166 13.333H1.833a.666.666 0 1 1 0-1.333h7.333a.666.666 0 1 1 0 1.333z"}))),s||(s=v.createElement("defs",null,v.createElement("path",{id:"config_svg__a",d:"M0 0h16v16H0z"}))))};var K=i(99992);function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let _=function(e){return v.createElement("svg",U({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),v.createElement("g",null,a||(a=v.createElement("mask",{id:"connection_svg__b",fill:"#fff"},v.createElement("use",{xlinkHref:"#connection_svg__a"}))),v.createElement("g",{mask:"url(#connection_svg__b)"},v.createElement("path",{style:{fill:"#333",opacity:1},d:"M11.867 4.14c-.914-.907-1.823-.908-2.729-.002l-1 1-.471-.471.471-.472 3.67 3.67-.471.472-.472-.472 1-1c.255-.255.421-.639.499-1.151.094-.624-.072-1.15-.499-1.576zm.941-.945c.744.744 1.035 1.65.874 2.717-.12.802-.412 1.434-.874 1.896l-1 1a.667.667 0 0 1-.943 0l-3.67-3.67a.667.667 0 0 1 0-.943l1-1c.462-.462 1.093-.753 1.892-.874 1.065-.16 1.971.13 2.72.872z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"m14.475 2.471-1.67 1.67a.67.67 0 0 1-.727.145.664.664 0 0 1-.299-.986.659.659 0 0 1 .083-.101l1.67-1.67a.664.664 0 0 1 .842-.083.67.67 0 0 1 .283.684.666.666 0 0 1-.182.341zM4.138 11.865c.91.91 1.818.91 2.727 0l1-1 .472.472-.472.471-3.67-3.67.472-.471.471.471-1 1c-.906.906-.905 1.815.002 2.729zm-.945.941c-.742-.748-1.033-1.654-.872-2.719.12-.8.412-1.43.874-1.892l1-1c.26-.26.683-.26.943 0l3.67 3.67c.26.26.26.683 0 .943l-1 1c-.462.462-1.094.753-1.896.874-1.068.161-1.973-.13-2.717-.874z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"m7.195 10.192 1.33-1.33a.665.665 0 0 1 1.125.341.665.665 0 0 1-.182.602l-1.33 1.33a.667.667 0 0 1-.943-.943zM1.529 13.532l1.67-1.67a.659.659 0 0 1 .471-.195.666.666 0 0 1 .471 1.138l-1.67 1.67a.667.667 0 0 1-.942-.943zM4.862 7.859l1.33-1.33a.665.665 0 1 1 .943.942l-1.33 1.33a.665.665 0 0 1-1.125-.34.665.665 0 0 1 .182-.602z"}))),r||(r=v.createElement("defs",null,v.createElement("path",{id:"connection_svg__a",d:"M0 0h16v16H0z"}))))};function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let M=function(e){return v.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),v.createElement("g",null,c||(c=v.createElement("mask",{id:"cloud-success_svg__b",fill:"#fff"},v.createElement("use",{xlinkHref:"#cloud-success_svg__a"}))),v.createElement("g",{mask:"url(#cloud-success_svg__b)"},v.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.426 10.49 2 1.66-.426.513-.52-.417 2.67-3.33a.668.668 0 0 1 1.104.096.667.667 0 0 1-.064.738l-2.67 3.33a.667.667 0 0 1-.946.096l-2-1.66a.663.663 0 0 1-.21-.71.667.667 0 0 1 1.062-.316z"}))),o||(o=v.createElement("defs",null,v.createElement("path",{id:"cloud-success_svg__a",d:"M0 0h16v16H0z"}))))};function z(){return(z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let F=function(e){return v.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:16,height:16,fill:"none"},e),v.createElement("g",null,p||(p=v.createElement("mask",{id:"cloud-fail_svg__b",fill:"#fff"},v.createElement("use",{xlinkHref:"#cloud-fail_svg__a"}))),v.createElement("g",{mask:"url(#cloud-fail_svg__b)"},v.createElement("path",{style:{fill:"#333",opacity:1},d:"M4.003 11.663c-.839 0-1.551-.207-2.137-.623-.8-.567-1.2-1.415-1.2-2.543 0-1.252.521-2.204 1.563-2.855C2.915 5.214 3.616 5 4.333 5v.667l-.641-.181.641.18-.641-.18C4.347 3.162 5.784 2 8.003 2c2.307 0 3.74.995 4.302 2.986l-.642.18.073-.662-.073.663.073-.663c2.396.263 3.594 1.541 3.594 3.833 0 2.217-1.109 3.326-3.327 3.326a.666.666 0 1 1 0-1.333c1.33 0 1.994-.664 1.994-1.993 0-1.495-.802-2.331-2.407-2.508-.27-.03-.495-.22 0 0a.667.667 0 0 1-.568-.481c-.379-1.343-1.385-2.015-3.019-2.015-1.546 0-2.555.838-3.028 2.515-.081.287-.343.485 0 0a.667.667 0 0 1-.642.485c-.462 0-.928.147-1.398.44-.623.39-.935.964-.935 1.724 0 .669.213 1.154.638 1.456.354.251.81.377 1.365.377a.666.666 0 1 1 0 1.333z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"m10.135 9.805-3.33 3.33a.667.667 0 0 1-.943-.943l3.33-3.33a.665.665 0 1 1 .943.943z"}),v.createElement("path",{style:{fill:"#333",opacity:1},d:"m6.805 8.862 3.33 3.33a.67.67 0 0 1 0 .943.672.672 0 0 1-.602.182.666.666 0 0 1-.341-.182l-3.33-3.33a.665.665 0 0 1 .341-1.126.665.665 0 0 1 .602.183z"}))),u||(u=v.createElement("defs",null,v.createElement("path",{id:"cloud-fail_svg__a",d:"M0 0h16v16H0z"}))))};var I=i(31178),O=i(6068),D=i(85962),N=i(70580),V=i(33362),B=i(82860),W=i(25166),G=i(99608),R=i(52061),L=i(99668),X=i(97452),$=i(17304),Q=i(67938),Y=i(54508),q=i(49206),J=i(31055),ee=i(1566),et=i(19293);function ei(e){return(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.TTS.Enable.Title,subTitle:B.ZP.Settings.TTS.Enable.SubTitle,children:d.jsx("input",{type:"checkbox",checked:e.ttsConfig.enable,onChange:t=>e.updateConfig(e=>e.enable=t.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Settings.TTS.Engine,children:d.jsx(O.Ph,{value:e.ttsConfig.engine,onChange:t=>{e.updateConfig(e=>e.engine=V.wF.engine(t.currentTarget.value))},children:G.pW.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),e.ttsConfig.engine===G.Xu&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.TTS.Model,children:d.jsx(O.Ph,{value:e.ttsConfig.model,onChange:t=>{e.updateConfig(e=>e.model=V.wF.model(t.currentTarget.value))},children:G.FN.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),d.jsx(O.HC,{title:B.ZP.Settings.TTS.Voice.Title,subTitle:B.ZP.Settings.TTS.Voice.SubTitle,children:d.jsx(O.Ph,{value:e.ttsConfig.voice,onChange:t=>{e.updateConfig(e=>e.voice=V.wF.voice(t.currentTarget.value))},children:G.Zq.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),d.jsx(O.HC,{title:B.ZP.Settings.TTS.Speed.Title,subTitle:B.ZP.Settings.TTS.Speed.SubTitle,children:d.jsx(X.O,{aria:B.ZP.Settings.TTS.Speed.Title,value:e.ttsConfig.speed?.toFixed(1),min:"0.3",max:"4.0",step:"0.1",onChange:t=>{e.updateConfig(e=>e.speed=V.wF.speed(t.currentTarget.valueAsNumber))}})})]})]})}let en=[G.UT.OpenAI,G.UT.Azure],el=["gpt-4o-realtime-preview-2024-10-01"],es=["alloy","shimmer","echo"];function ea(e){let t=e.realtimeConfig.provider===G.UT.Azure&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Azure.Endpoint.Title,subTitle:B.ZP.Settings.Realtime.Azure.Endpoint.SubTitle,children:d.jsx("input",{value:e.realtimeConfig?.azure?.endpoint,type:"text",placeholder:B.ZP.Settings.Realtime.Azure.Endpoint.Title,onChange:t=>{e.updateConfig(e=>e.azure.endpoint=t.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Azure.Deployment.Title,subTitle:B.ZP.Settings.Realtime.Azure.Deployment.SubTitle,children:d.jsx("input",{value:e.realtimeConfig?.azure?.deployment,type:"text",placeholder:B.ZP.Settings.Realtime.Azure.Deployment.Title,onChange:t=>{e.updateConfig(e=>e.azure.deployment=t.currentTarget.value)}})})]});return(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Enable.Title,subTitle:B.ZP.Settings.Realtime.Enable.SubTitle,children:d.jsx("input",{type:"checkbox",checked:e.realtimeConfig.enable,onChange:t=>e.updateConfig(e=>e.enable=t.currentTarget.checked)})}),e.realtimeConfig.enable&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Provider.Title,subTitle:B.ZP.Settings.Realtime.Provider.SubTitle,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Realtime.Provider.Title,value:e.realtimeConfig.provider,onChange:t=>{e.updateConfig(e=>e.provider=t.target.value)},children:en.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Model.Title,subTitle:B.ZP.Settings.Realtime.Model.SubTitle,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Realtime.Model.Title,value:e.realtimeConfig.model,onChange:t=>{e.updateConfig(e=>e.model=t.target.value)},children:el.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),d.jsx(O.HC,{title:B.ZP.Settings.Realtime.ApiKey.Title,subTitle:B.ZP.Settings.Realtime.ApiKey.SubTitle,children:d.jsx(O.WU,{aria:B.ZP.Settings.ShowPassword,"aria-label":B.ZP.Settings.Realtime.ApiKey.Title,value:e.realtimeConfig.apiKey,type:"text",placeholder:B.ZP.Settings.Realtime.ApiKey.Placeholder,onChange:t=>{e.updateConfig(e=>e.apiKey=t.currentTarget.value)}})}),t,d.jsx(O.HC,{title:B.ZP.Settings.TTS.Voice.Title,subTitle:B.ZP.Settings.TTS.Voice.SubTitle,children:d.jsx(O.Ph,{value:e.realtimeConfig.voice,onChange:t=>{e.updateConfig(e=>e.voice=t.currentTarget.value)},children:es.map((e,t)=>d.jsx("option",{value:e,children:e},t))})}),d.jsx(O.HC,{title:B.ZP.Settings.Realtime.Temperature.Title,subTitle:B.ZP.Settings.Realtime.Temperature.SubTitle,children:d.jsx(X.O,{aria:B.ZP.Settings.Temperature.Title,value:e.realtimeConfig?.temperature?.toFixed(1),min:"0.6",max:"1",step:"0.1",onChange:t=>{e.updateConfig(e=>e.temperature=t.currentTarget.valueAsNumber)}})})]})]})}function er(e){let t=(0,R.f)(),i=t.get(e.id);return i?d.jsx("div",{className:"modal-mask",children:d.jsx(O.u_,{title:B.ZP.Settings.Prompt.EditModal.Title,onClose:e.onClose,actions:[d.jsx(N.h,{onClick:e.onClose,text:B.ZP.UI.Confirm,bordered:!0},"")],children:(0,d.jsxs)("div",{className:S()["edit-prompt-modal"],children:[d.jsx("input",{type:"text",value:i.title,readOnly:!i.isUser,className:S()["edit-prompt-title"],onInput:i=>t.updatePrompt(e.id,e=>e.title=i.currentTarget.value)}),d.jsx(O.II,{value:i.content,readOnly:!i.isUser,className:S()["edit-prompt-content"],rows:10,onInput:i=>t.updatePrompt(e.id,e=>e.content=i.currentTarget.value)})]})})}):null}function ec(e){let t=(0,R.f)(),i=t.getUserPrompts(),n=R.o.builtinPrompts,l=i.concat(n),[s,a]=(0,g.useState)(""),[r,c]=(0,g.useState)([]),o=s.length>0?r:l,[p,u]=(0,g.useState)();return(0,g.useEffect)(()=>{s.length>0?c(R.o.search(s)):c([])},[s]),(0,d.jsxs)("div",{className:"modal-mask",children:[d.jsx(O.u_,{title:B.ZP.Settings.Prompt.Modal.Title,onClose:()=>e.onClose?.(),actions:[d.jsx(N.h,{onClick:()=>{u(t.add({id:(0,J.x0)(),createdAt:Date.now(),title:"Empty Prompt",content:"Empty Prompt Content"}))},icon:d.jsx(T.Z,{}),bordered:!0,text:B.ZP.Settings.Prompt.Modal.Add},"add")],children:(0,d.jsxs)("div",{className:S()["user-prompt-modal"],children:[d.jsx("input",{type:"text",className:S()["user-prompt-search"],placeholder:B.ZP.Settings.Prompt.Modal.Search,value:s,onInput:e=>a(e.currentTarget.value)}),d.jsx("div",{className:S()["user-prompt-list"],children:o.map((e,i)=>(0,d.jsxs)("div",{className:S()["user-prompt-item"],children:[(0,d.jsxs)("div",{className:S()["user-prompt-header"],children:[d.jsx("div",{className:S()["user-prompt-title"],children:e.title}),d.jsx("div",{className:S()["user-prompt-content"]+" one-line",children:e.content})]}),(0,d.jsxs)("div",{className:S()["user-prompt-buttons"],children:[e.isUser&&d.jsx(N.h,{icon:d.jsx(y.Z,{}),className:S()["user-prompt-button"],onClick:()=>t.remove(e.id)}),e.isUser?d.jsx(N.h,{icon:d.jsx(P.Z,{}),className:S()["user-prompt-button"],onClick:()=>u(e.id)}):d.jsx(N.h,{icon:d.jsx(Z.Z,{}),className:S()["user-prompt-button"],onClick:()=>u(e.id)}),d.jsx(N.h,{icon:d.jsx(b.Z,{}),className:S()["user-prompt-button"],onClick:()=>(0,W.vQ)(e.content)})]})]},e.id??e.title))})]})}),void 0!==p&&d.jsx(er,{id:p,onClose:()=>u(void 0)})]})}function eo(){let e=(0,V.aK)(),t=(0,V.MG)();return(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Danger.Reset.Title,subTitle:B.ZP.Settings.Danger.Reset.SubTitle,children:d.jsx(N.h,{aria:B.ZP.Settings.Danger.Reset.Title,text:B.ZP.Settings.Danger.Reset.Action,onClick:async()=>{await (0,O.i0)(B.ZP.Settings.Danger.Reset.Confirm)&&t.reset()},type:"danger"})}),d.jsx(O.HC,{title:B.ZP.Settings.Danger.Clear.Title,subTitle:B.ZP.Settings.Danger.Clear.SubTitle,children:d.jsx(N.h,{aria:B.ZP.Settings.Danger.Clear.Title,text:B.ZP.Settings.Danger.Clear.Action,onClick:async()=>{await (0,O.i0)(B.ZP.Settings.Danger.Clear.Confirm)&&e.clearAllData()},type:"danger"})})]})}function ep(){let e=(0,q.i)(),t=(0,g.useMemo)(()=>e.cloudSync(),[e]),[i,n]=(0,g.useState)("none");async function l(){n("checking"),n(await e.check()?"success":"failed")}return t?d.jsx(N.h,{text:B.ZP.Settings.Sync.Config.Modal.Check,bordered:!0,onClick:l,icon:"none"===i?d.jsx(_,{}):"checking"===i?d.jsx(A.Z,{}):"success"===i?d.jsx(M,{}):"failed"===i?d.jsx(F,{}):d.jsx(_,{})}):null}function eu(e){let t=(0,q.i)();return d.jsx("div",{className:"modal-mask",children:(0,d.jsxs)(O.u_,{title:B.ZP.Settings.Sync.Config.Modal.Title,onClose:()=>e.onClose?.(),actions:[d.jsx(ep,{},"check"),d.jsx(N.h,{onClick:e.onClose,icon:d.jsx(K.Z,{}),bordered:!0,text:B.ZP.UI.Confirm},"confirm")],children:[(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.SyncType.Title,subTitle:B.ZP.Settings.Sync.Config.SyncType.SubTitle,children:d.jsx("select",{value:t.provider,onChange:e=>{t.update(t=>t.provider=e.target.value)},children:Object.entries(et.lP).map(([e,t])=>d.jsx("option",{value:t,children:e},e))})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.Proxy.Title,subTitle:B.ZP.Settings.Sync.Config.Proxy.SubTitle,children:d.jsx("input",{type:"checkbox",checked:t.useProxy,onChange:e=>{t.update(t=>t.useProxy=e.currentTarget.checked)}})}),t.useProxy?d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.ProxyUrl.Title,subTitle:B.ZP.Settings.Sync.Config.ProxyUrl.SubTitle,children:d.jsx("input",{type:"text",value:t.proxyUrl,onChange:e=>{t.update(t=>t.proxyUrl=e.currentTarget.value)}})}):null]}),t.provider===et.lP.WebDAV&&d.jsx(d.Fragment,{children:(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.WebDav.Endpoint,children:d.jsx("input",{type:"text",value:t.webdav.endpoint,onChange:e=>{t.update(t=>t.webdav.endpoint=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.WebDav.UserName,children:d.jsx("input",{type:"text",value:t.webdav.username,onChange:e=>{t.update(t=>t.webdav.username=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.WebDav.Password,children:d.jsx(O.WU,{value:t.webdav.password,onChange:e=>{t.update(t=>t.webdav.password=e.currentTarget.value)}})})]})}),t.provider===et.lP.UpStash&&(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.UpStash.Endpoint,children:d.jsx("input",{type:"text",value:t.upstash.endpoint,onChange:e=>{t.update(t=>t.upstash.endpoint=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.UpStash.UserName,children:d.jsx("input",{type:"text",value:t.upstash.username,placeholder:G.Uf,onChange:e=>{t.update(t=>t.upstash.username=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.Config.UpStash.Password,children:d.jsx(O.WU,{value:t.upstash.apiKey,onChange:e=>{t.update(t=>t.upstash.apiKey=e.currentTarget.value)}})})]})]})})}function ed(){let e=(0,q.i)(),t=(0,V.aK)(),i=(0,R.f)(),n=(0,ee.Zy)(),l=(0,g.useMemo)(()=>e.cloudSync(),[e]),[s,a]=(0,g.useState)(!1),r=(0,g.useMemo)(()=>{let e=t.sessions,l=e.reduce((e,t)=>e+t.messages.length,0);return{chat:e.length,message:l,prompt:Object.keys(i.prompts).length,mask:Object.keys(n.masks).length}},[t.sessions,n.masks,i.prompts]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Sync.CloudState,subTitle:e.lastProvider?`${new Date(e.lastSyncTime).toLocaleString()} [${e.lastProvider}]`:B.ZP.Settings.Sync.NotSyncYet,children:(0,d.jsxs)("div",{style:{display:"flex"},children:[d.jsx(N.h,{aria:B.ZP.Settings.Sync.CloudState+B.ZP.UI.Config,icon:d.jsx(w,{}),text:B.ZP.UI.Config,onClick:()=>{a(!0)}}),l&&d.jsx(N.h,{icon:d.jsx(x.Z,{}),text:B.ZP.UI.Sync,onClick:async()=>{try{await e.sync(),(0,O.CF)(B.ZP.Settings.Sync.Success)}catch(e){(0,O.CF)(B.ZP.Settings.Sync.Fail),console.error("[Sync]",e)}}})]})}),d.jsx(O.HC,{title:B.ZP.Settings.Sync.LocalState,subTitle:B.ZP.Settings.Sync.Overview(r),children:(0,d.jsxs)("div",{style:{display:"flex"},children:[d.jsx(N.h,{aria:B.ZP.Settings.Sync.LocalState+B.ZP.UI.Export,icon:d.jsx(E.Z,{}),text:B.ZP.UI.Export,onClick:()=>{e.export()}}),d.jsx(N.h,{aria:B.ZP.Settings.Sync.LocalState+B.ZP.UI.Import,icon:d.jsx(f.Z,{}),text:B.ZP.UI.Import,onClick:()=>{e.import()}})]})})]}),s&&d.jsx(eu,{onClose:()=>a(!1)})]})}function eg(){let e=(0,$.s0)(),[t,i]=(0,g.useState)(!1),n=(0,V.MG)(),l=n.update,s=(0,V.u2)(),[a,r]=(0,g.useState)(!1),c=s.formatVersion(s.version),o=s.formatVersion(s.remoteVersion);(0,W.Wp)(c,o);let p=(0,V._X)(),u=(0,g.useMemo)(()=>{let e=p.openaiUrl.includes(G.Bi);return p.hideBalanceQuery||e||p.provider===G.UT.Azure},[p.hideBalanceQuery,p.openaiUrl,p.provider]),h={used:s.used,subscription:s.subscription},[T,b]=(0,g.useState)(!1);function y(e=!1){u||(b(!0),s.updateUsage(e).finally(()=>{b(!1)}))}let A=(0,g.useMemo)(()=>p.enabledAccessControl(),[]),v=(0,R.f)(),C=R.o.count.builtin,Z=v.getUserPrompts().length??0,[f,E]=(0,g.useState)(!1),k=p.isAuthorized();(0,g.useEffect)(()=>{(function(e=!1){r(!0),s.getLatestVersion(e).then(()=>{r(!1)}),console.log("[Update] local version ",s.version),console.log("[Update] remote version ",s.remoteVersion)})(),k&&y()},[]),(0,g.useEffect)(()=>{let t=t=>{"Escape"===t.key&&e(G.y$.Home)};return w?.isApp&&p.update(e=>{e.useCustomConfig=!0}),document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[]);let w=(0,g.useMemo)(()=>(0,Y.Z)(),[]),K=A&&!w?.isApp&&d.jsx(O.HC,{title:B.ZP.Settings.Access.AccessCode.Title,subTitle:B.ZP.Settings.Access.AccessCode.SubTitle,children:d.jsx(O.WU,{value:p.accessCode,type:"text",placeholder:B.ZP.Settings.Access.AccessCode.Placeholder,onChange:e=>{p.update(t=>t.accessCode=e.currentTarget.value)}})}),U=d.jsx(O.HC,{className:S()["subtitle-button"],title:B.ZP.Settings.Access.SaasStart.Title+`${B.ZP.Settings.Access.SaasStart.Label}`,subTitle:B.ZP.Settings.Access.SaasStart.SubTitle,children:d.jsx(N.h,{aria:B.ZP.Settings.Access.SaasStart.Title+B.ZP.Settings.Access.SaasStart.ChatNow,icon:d.jsx(j,{}),type:"primary",text:B.ZP.Settings.Access.SaasStart.ChatNow,onClick:()=>{(0,I.MX)(),window.location.href=G.Hf}})}),_=!w?.isApp&&d.jsx(O.HC,{title:B.ZP.Settings.Access.CustomEndpoint.Title,subTitle:B.ZP.Settings.Access.CustomEndpoint.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.CustomEndpoint.Title,type:"checkbox",checked:p.useCustomConfig,onChange:e=>p.update(t=>t.useCustomConfig=e.currentTarget.checked)})}),H=p.provider===G.UT.OpenAI&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.OpenAI.Endpoint.Title,subTitle:B.ZP.Settings.Access.OpenAI.Endpoint.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.OpenAI.Endpoint.Title,type:"text",value:p.openaiUrl,placeholder:G.Bi,onChange:e=>p.update(t=>t.openaiUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.OpenAI.ApiKey.Title,subTitle:B.ZP.Settings.Access.OpenAI.ApiKey.SubTitle,children:d.jsx(O.WU,{aria:B.ZP.Settings.ShowPassword,"aria-label":B.ZP.Settings.Access.OpenAI.ApiKey.Title,value:p.openaiApiKey,type:"text",placeholder:B.ZP.Settings.Access.OpenAI.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.openaiApiKey=e.currentTarget.value)}})})]}),M=p.provider===G.UT.Azure&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Azure.Endpoint.Title,subTitle:B.ZP.Settings.Access.Azure.Endpoint.SubTitle+G.kn.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Azure.Endpoint.Title,type:"text",value:p.azureUrl,placeholder:G.kn.ExampleEndpoint,onChange:e=>p.update(t=>t.azureUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Azure.ApiKey.Title,subTitle:B.ZP.Settings.Access.Azure.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Azure.ApiKey.Title,value:p.azureApiKey,type:"text",placeholder:B.ZP.Settings.Access.Azure.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.azureApiKey=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Azure.ApiVerion.Title,subTitle:B.ZP.Settings.Access.Azure.ApiVerion.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Azure.ApiVerion.Title,type:"text",value:p.azureApiVersion,placeholder:"2023-08-01-preview",onChange:e=>p.update(t=>t.azureApiVersion=e.currentTarget.value)})})]}),z=p.provider===G.UT.Google&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Google.Endpoint.Title,subTitle:B.ZP.Settings.Access.Google.Endpoint.SubTitle+G.ie.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Google.Endpoint.Title,type:"text",value:p.googleUrl,placeholder:G.ie.ExampleEndpoint,onChange:e=>p.update(t=>t.googleUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Google.ApiKey.Title,subTitle:B.ZP.Settings.Access.Google.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Google.ApiKey.Title,value:p.googleApiKey,type:"text",placeholder:B.ZP.Settings.Access.Google.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.googleApiKey=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Google.ApiVersion.Title,subTitle:B.ZP.Settings.Access.Google.ApiVersion.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Google.ApiVersion.Title,type:"text",value:p.googleApiVersion,placeholder:"2023-08-01-preview",onChange:e=>p.update(t=>t.googleApiVersion=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Google.GoogleSafetySettings.Title,subTitle:B.ZP.Settings.Access.Google.GoogleSafetySettings.SubTitle,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Access.Google.GoogleSafetySettings.Title,value:p.googleSafetySettings,onChange:e=>{p.update(t=>t.googleSafetySettings=e.target.value)},children:Object.entries(G.hy).map(([e,t])=>d.jsx("option",{value:t,children:e},e))})})]}),F=p.provider===G.UT.Anthropic&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Anthropic.Endpoint.Title,subTitle:B.ZP.Settings.Access.Anthropic.Endpoint.SubTitle+G.YU.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Anthropic.Endpoint.Title,type:"text",value:p.anthropicUrl,placeholder:G.YU.ExampleEndpoint,onChange:e=>p.update(t=>t.anthropicUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Anthropic.ApiKey.Title,subTitle:B.ZP.Settings.Access.Anthropic.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Anthropic.ApiKey.Title,value:p.anthropicApiKey,type:"text",placeholder:B.ZP.Settings.Access.Anthropic.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.anthropicApiKey=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Anthropic.ApiVerion.Title,subTitle:B.ZP.Settings.Access.Anthropic.ApiVerion.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Anthropic.ApiVerion.Title,type:"text",value:p.anthropicApiVersion,placeholder:G.YU.Vision,onChange:e=>p.update(t=>t.anthropicApiVersion=e.currentTarget.value)})})]}),q=p.provider===G.UT.Baidu&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Baidu.Endpoint.Title,subTitle:B.ZP.Settings.Access.Baidu.Endpoint.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Baidu.Endpoint.Title,type:"text",value:p.baiduUrl,placeholder:G.v3.ExampleEndpoint,onChange:e=>p.update(t=>t.baiduUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Baidu.ApiKey.Title,subTitle:B.ZP.Settings.Access.Baidu.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Baidu.ApiKey.Title,value:p.baiduApiKey,type:"text",placeholder:B.ZP.Settings.Access.Baidu.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.baiduApiKey=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Baidu.SecretKey.Title,subTitle:B.ZP.Settings.Access.Baidu.SecretKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Baidu.SecretKey.Title,value:p.baiduSecretKey,type:"text",placeholder:B.ZP.Settings.Access.Baidu.SecretKey.Placeholder,onChange:e=>{p.update(t=>t.baiduSecretKey=e.currentTarget.value)}})})]}),J=p.provider===G.UT.Tencent&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Tencent.Endpoint.Title,subTitle:B.ZP.Settings.Access.Tencent.Endpoint.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Tencent.Endpoint.Title,type:"text",value:p.tencentUrl,placeholder:G.Er.ExampleEndpoint,onChange:e=>p.update(t=>t.tencentUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Tencent.ApiKey.Title,subTitle:B.ZP.Settings.Access.Tencent.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Tencent.ApiKey.Title,value:p.tencentSecretId,type:"text",placeholder:B.ZP.Settings.Access.Tencent.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.tencentSecretId=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Tencent.SecretKey.Title,subTitle:B.ZP.Settings.Access.Tencent.SecretKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Tencent.SecretKey.Title,value:p.tencentSecretKey,type:"text",placeholder:B.ZP.Settings.Access.Tencent.SecretKey.Placeholder,onChange:e=>{p.update(t=>t.tencentSecretKey=e.currentTarget.value)}})})]}),ee=p.provider===G.UT.ByteDance&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.ByteDance.Endpoint.Title,subTitle:B.ZP.Settings.Access.ByteDance.Endpoint.SubTitle+G.MU.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.ByteDance.Endpoint.Title,type:"text",value:p.bytedanceUrl,placeholder:G.MU.ExampleEndpoint,onChange:e=>p.update(t=>t.bytedanceUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.ByteDance.ApiKey.Title,subTitle:B.ZP.Settings.Access.ByteDance.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.ByteDance.ApiKey.Title,value:p.bytedanceApiKey,type:"text",placeholder:B.ZP.Settings.Access.ByteDance.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.bytedanceApiKey=e.currentTarget.value)}})})]}),et=p.provider===G.UT.Alibaba&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Alibaba.Endpoint.Title,subTitle:B.ZP.Settings.Access.Alibaba.Endpoint.SubTitle+G.rk.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Alibaba.Endpoint.Title,type:"text",value:p.alibabaUrl,placeholder:G.rk.ExampleEndpoint,onChange:e=>p.update(t=>t.alibabaUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Alibaba.ApiKey.Title,subTitle:B.ZP.Settings.Access.Alibaba.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Alibaba.ApiKey.Title,value:p.alibabaApiKey,type:"text",placeholder:B.ZP.Settings.Access.Alibaba.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.alibabaApiKey=e.currentTarget.value)}})})]}),en=p.provider===G.UT.Moonshot&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Moonshot.Endpoint.Title,subTitle:B.ZP.Settings.Access.Moonshot.Endpoint.SubTitle+G.ft.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Moonshot.Endpoint.Title,type:"text",value:p.moonshotUrl,placeholder:G.ft.ExampleEndpoint,onChange:e=>p.update(t=>t.moonshotUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Moonshot.ApiKey.Title,subTitle:B.ZP.Settings.Access.Moonshot.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Moonshot.ApiKey.Title,value:p.moonshotApiKey,type:"text",placeholder:B.ZP.Settings.Access.Moonshot.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.moonshotApiKey=e.currentTarget.value)}})})]}),el=p.provider===G.UT.DeepSeek&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.DeepSeek.Endpoint.Title,subTitle:B.ZP.Settings.Access.DeepSeek.Endpoint.SubTitle+G.$7.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.DeepSeek.Endpoint.Title,type:"text",value:p.deepseekUrl,placeholder:G.$7.ExampleEndpoint,onChange:e=>p.update(t=>t.deepseekUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.DeepSeek.ApiKey.Title,subTitle:B.ZP.Settings.Access.DeepSeek.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.DeepSeek.ApiKey.Title,value:p.deepseekApiKey,type:"text",placeholder:B.ZP.Settings.Access.DeepSeek.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.deepseekApiKey=e.currentTarget.value)}})})]}),es=p.provider===G.UT.XAI&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.XAI.Endpoint.Title,subTitle:B.ZP.Settings.Access.XAI.Endpoint.SubTitle+G.nL.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.XAI.Endpoint.Title,type:"text",value:p.xaiUrl,placeholder:G.nL.ExampleEndpoint,onChange:e=>p.update(t=>t.xaiUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.XAI.ApiKey.Title,subTitle:B.ZP.Settings.Access.XAI.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.XAI.ApiKey.Title,value:p.xaiApiKey,type:"text",placeholder:B.ZP.Settings.Access.XAI.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.xaiApiKey=e.currentTarget.value)}})})]}),er=p.provider===G.UT.ChatGLM&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.ChatGLM.Endpoint.Title,subTitle:B.ZP.Settings.Access.ChatGLM.Endpoint.SubTitle+G.of.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.ChatGLM.Endpoint.Title,type:"text",value:p.chatglmUrl,placeholder:G.of.ExampleEndpoint,onChange:e=>p.update(t=>t.chatglmUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.ChatGLM.ApiKey.Title,subTitle:B.ZP.Settings.Access.ChatGLM.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.ChatGLM.ApiKey.Title,value:p.chatglmApiKey,type:"text",placeholder:B.ZP.Settings.Access.ChatGLM.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.chatglmApiKey=e.currentTarget.value)}})})]}),ep=p.provider===G.UT.SiliconFlow&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.SiliconFlow.Endpoint.Title,subTitle:B.ZP.Settings.Access.SiliconFlow.Endpoint.SubTitle+G.o9.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.SiliconFlow.Endpoint.Title,type:"text",value:p.siliconflowUrl,placeholder:G.o9.ExampleEndpoint,onChange:e=>p.update(t=>t.siliconflowUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.SiliconFlow.ApiKey.Title,subTitle:B.ZP.Settings.Access.SiliconFlow.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.SiliconFlow.ApiKey.Title,value:p.siliconflowApiKey,type:"text",placeholder:B.ZP.Settings.Access.SiliconFlow.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.siliconflowApiKey=e.currentTarget.value)}})})]}),eu=p.provider===G.UT.Stability&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Stability.Endpoint.Title,subTitle:B.ZP.Settings.Access.Stability.Endpoint.SubTitle+G.Xy.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Stability.Endpoint.Title,type:"text",value:p.stabilityUrl,placeholder:G.Xy.ExampleEndpoint,onChange:e=>p.update(t=>t.stabilityUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Stability.ApiKey.Title,subTitle:B.ZP.Settings.Access.Stability.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Stability.ApiKey.Title,value:p.stabilityApiKey,type:"text",placeholder:B.ZP.Settings.Access.Stability.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.stabilityApiKey=e.currentTarget.value)}})})]}),eg=p.provider===G.UT.Iflytek&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Iflytek.Endpoint.Title,subTitle:B.ZP.Settings.Access.Iflytek.Endpoint.SubTitle+G.LR.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.Iflytek.Endpoint.Title,type:"text",value:p.iflytekUrl,placeholder:G.LR.ExampleEndpoint,onChange:e=>p.update(t=>t.iflytekUrl=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Iflytek.ApiKey.Title,subTitle:B.ZP.Settings.Access.Iflytek.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Iflytek.ApiKey.Title,value:p.iflytekApiKey,type:"text",placeholder:B.ZP.Settings.Access.Iflytek.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.iflytekApiKey=e.currentTarget.value)}})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.Iflytek.ApiSecret.Title,subTitle:B.ZP.Settings.Access.Iflytek.ApiSecret.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.Iflytek.ApiSecret.Title,value:p.iflytekApiSecret,type:"text",placeholder:B.ZP.Settings.Access.Iflytek.ApiSecret.Placeholder,onChange:e=>{p.update(t=>t.iflytekApiSecret=e.currentTarget.value)}})})]}),eh=p.provider===G.UT["302.AI"]&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.AI302.Endpoint.Title,subTitle:B.ZP.Settings.Access.AI302.Endpoint.SubTitle+G.w$.ExampleEndpoint,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.AI302.Endpoint.Title,type:"text",value:p.ai302Url,placeholder:G.w$.ExampleEndpoint,onChange:e=>p.update(t=>t.ai302Url=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.AI302.ApiKey.Title,subTitle:B.ZP.Settings.Access.AI302.ApiKey.SubTitle,children:d.jsx(O.WU,{"aria-label":B.ZP.Settings.Access.AI302.ApiKey.Title,value:p.ai302ApiKey,type:"text",placeholder:B.ZP.Settings.Access.AI302.ApiKey.Placeholder,onChange:e=>{p.update(t=>t.ai302ApiKey=e.currentTarget.value)}})})]});return(0,d.jsxs)(L.S,{children:[(0,d.jsxs)("div",{className:"window-header","data-tauri-drag-region":!0,children:[(0,d.jsxs)("div",{className:"window-header-title",children:[d.jsx("div",{className:"window-header-main-title",children:B.ZP.Settings.Title}),d.jsx("div",{className:"window-header-sub-title",children:B.ZP.Settings.SubTitle})]}),(0,d.jsxs)("div",{className:"window-actions",children:[d.jsx("div",{className:"window-action-button"}),d.jsx("div",{className:"window-action-button"}),d.jsx("div",{className:"window-action-button",children:d.jsx(N.h,{aria:B.ZP.UI.Close,icon:d.jsx(m.Z,{}),onClick:()=>e(G.y$.Home),bordered:!0})})]})]}),(0,d.jsxs)("div",{className:S().settings,children:[(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Avatar,children:d.jsx(O.J2,{onClose:()=>i(!1),content:d.jsx(Q.aR,{onEmojiClick:e=>{l(t=>t.avatar=e),i(!1)}}),open:t,children:d.jsx("div",{"aria-label":B.ZP.Settings.Avatar,tabIndex:0,className:S().avatar,onClick:()=>{i(!t)},children:d.jsx(Q.qE,{avatar:n.avatar})})})}),d.jsx(O.HC,{title:B.ZP.Settings.SendKey,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.SendKey,value:n.submitKey,onChange:e=>{l(t=>t.submitKey=e.target.value)},children:Object.values(V.mQ).map(e=>d.jsx("option",{value:e,children:e},e))})}),d.jsx(O.HC,{title:B.ZP.Settings.Theme,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Theme,value:n.theme,onChange:e=>{l(t=>t.theme=e.target.value)},children:Object.values(V.Q2).map(e=>d.jsx("option",{value:e,children:e},e))})}),d.jsx(O.HC,{title:B.ZP.Settings.Lang.Name,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Lang.Name,value:(0,B.VQ)(),onChange:e=>{(0,B.t4)(e.target.value)},children:B.DC.map(e=>d.jsx("option",{value:e,children:B.nW[e]},e))})}),d.jsx(O.HC,{title:B.ZP.Settings.FontSize.Title,subTitle:B.ZP.Settings.FontSize.SubTitle,children:d.jsx(X.O,{aria:B.ZP.Settings.FontSize.Title,title:`${n.fontSize??14}px`,value:n.fontSize,min:"12",max:"40",step:"1",onChange:e=>l(t=>t.fontSize=Number.parseInt(e.currentTarget.value))})}),d.jsx(O.HC,{title:B.ZP.Settings.FontFamily.Title,subTitle:B.ZP.Settings.FontFamily.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.FontFamily.Title,type:"text",value:n.fontFamily,placeholder:B.ZP.Settings.FontFamily.Placeholder,onChange:e=>l(t=>t.fontFamily=e.currentTarget.value)})}),d.jsx(O.HC,{title:B.ZP.Settings.AutoGenerateTitle.Title,subTitle:B.ZP.Settings.AutoGenerateTitle.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.AutoGenerateTitle.Title,type:"checkbox",checked:n.enableAutoGenerateTitle,onChange:e=>l(t=>t.enableAutoGenerateTitle=e.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Settings.SendPreviewBubble.Title,subTitle:B.ZP.Settings.SendPreviewBubble.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.SendPreviewBubble.Title,type:"checkbox",checked:n.sendPreviewBubble,onChange:e=>l(t=>t.sendPreviewBubble=e.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Mask.Config.Artifacts.Title,subTitle:B.ZP.Mask.Config.Artifacts.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Mask.Config.Artifacts.Title,type:"checkbox",checked:n.enableArtifacts,onChange:e=>l(t=>t.enableArtifacts=e.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Mask.Config.CodeFold.Title,subTitle:B.ZP.Mask.Config.CodeFold.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Mask.Config.CodeFold.Title,type:"checkbox",checked:n.enableCodeFold,"data-testid":"enable-code-fold-checkbox",onChange:e=>l(t=>t.enableCodeFold=e.currentTarget.checked)})})]}),d.jsx(ed,{}),(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Mask.Splash.Title,subTitle:B.ZP.Settings.Mask.Splash.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Mask.Splash.Title,type:"checkbox",checked:!n.dontShowMaskSplashScreen,onChange:e=>l(t=>t.dontShowMaskSplashScreen=!e.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Settings.Mask.Builtin.Title,subTitle:B.ZP.Settings.Mask.Builtin.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Mask.Builtin.Title,type:"checkbox",checked:n.hideBuiltinMasks,onChange:e=>l(t=>t.hideBuiltinMasks=e.currentTarget.checked)})})]}),(0,d.jsxs)(O.aV,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Prompt.Disable.Title,subTitle:B.ZP.Settings.Prompt.Disable.SubTitle,children:d.jsx("input",{"aria-label":B.ZP.Settings.Prompt.Disable.Title,type:"checkbox",checked:n.disablePromptHint,onChange:e=>l(t=>t.disablePromptHint=e.currentTarget.checked)})}),d.jsx(O.HC,{title:B.ZP.Settings.Prompt.List,subTitle:B.ZP.Settings.Prompt.ListCount(C,Z),children:d.jsx(N.h,{aria:B.ZP.Settings.Prompt.List+B.ZP.Settings.Prompt.Edit,icon:d.jsx(P.Z,{}),text:B.ZP.Settings.Prompt.Edit,onClick:()=>E(!0)})})]}),(0,d.jsxs)(O.aV,{id:G.ym.CustomModel,children:[U,K,!p.hideUserApiKey&&(0,d.jsxs)(d.Fragment,{children:[_,p.useCustomConfig&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(O.HC,{title:B.ZP.Settings.Access.Provider.Title,subTitle:B.ZP.Settings.Access.Provider.SubTitle,children:d.jsx(O.Ph,{"aria-label":B.ZP.Settings.Access.Provider.Title,value:p.provider,onChange:e=>{p.update(t=>t.provider=e.target.value)},children:Object.entries(G.UT).map(([e,t])=>d.jsx("option",{value:t,children:e},e))})}),H,M,z,F,q,ee,et,J,en,el,eu,eg,es,er,ep,eh]})]}),u||w?.isApp?null:d.jsx(O.HC,{title:B.ZP.Settings.Usage.Title,subTitle:k?T?B.ZP.Settings.Usage.IsChecking:B.ZP.Settings.Usage.SubTitle(h?.used??"[?]",h?.subscription??"[?]"):B.ZP.Settings.Usage.NoAccess,children:!k||T?d.jsx("div",{}):d.jsx(N.h,{icon:d.jsx(x.Z,{}),text:B.ZP.Settings.Usage.Check,onClick:()=>y(!0)})}),d.jsx(O.HC,{title:B.ZP.Settings.Access.CustomModel.Title,subTitle:B.ZP.Settings.Access.CustomModel.SubTitle,vertical:!0,children:d.jsx("input",{"aria-label":B.ZP.Settings.Access.CustomModel.Title,style:{width:"100%",maxWidth:"unset",textAlign:"left"},type:"text",value:n.customModels,placeholder:"model1,model2,model3",onChange:e=>n.update(t=>t.customModels=e.currentTarget.value)})})]}),d.jsx(O.aV,{children:d.jsx(D.j,{modelConfig:n.modelConfig,updateConfig:e=>{let t={...n.modelConfig};e(t),n.update(e=>e.modelConfig=t)}})}),f&&d.jsx(ec,{onClose:()=>E(!1)}),d.jsx(O.aV,{children:d.jsx(ea,{realtimeConfig:n.realtimeConfig,updateConfig:e=>{let t={...n.realtimeConfig};e(t),n.update(e=>e.realtimeConfig=t)}})}),d.jsx(O.aV,{children:d.jsx(ei,{ttsConfig:n.ttsConfig,updateConfig:e=>{let t={...n.ttsConfig};e(t),n.update(e=>e.ttsConfig=t)}})}),d.jsx(eo,{})]})]})}},99458:e=>{e.exports={settings:"settings_settings__427bK",avatar:"settings_avatar__jO3Wv","edit-prompt-modal":"settings_edit-prompt-modal__iP1gi","edit-prompt-title":"settings_edit-prompt-title__mq8os","edit-prompt-content":"settings_edit-prompt-content__9i9Y_","user-prompt-modal":"settings_user-prompt-modal__YWssH","user-prompt-search":"settings_user-prompt-search__kskD_","user-prompt-list":"settings_user-prompt-list__BrWRy","user-prompt-item":"settings_user-prompt-item__kh_6Q","user-prompt-header":"settings_user-prompt-header__MBMAf","user-prompt-title":"settings_user-prompt-title__BpRs1","user-prompt-content":"settings_user-prompt-content__CxL3R","user-prompt-buttons":"settings_user-prompt-buttons__y5Hf_","user-prompt-button":"settings_user-prompt-button__efhSx","subtitle-button":"settings_subtitle-button__iNyot"}},23395:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(11312),l=i(81074);let s=function(e,t){return function(i,n){if(null==i)return i;if(!(0,l.Z)(i))return e(i,n);for(var s=i.length,a=t?s:-1,r=Object(i);(t?a--:++a<s)&&!1!==n(r[a],a,r););return i}}(n.Z)},26505:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(74067);let l=function(e,t,i,n){for(var l=-1,s=null==e?0:e.length;++l<s;){var a=e[l];t(n,a,i(a),e)}return n};var s=i(23395);let a=function(e,t,i,n){return(0,s.Z)(e,function(e,l,s){t(n,e,i(e),s)}),n};var r=i(64251),c=i(27774),o=Object.prototype.hasOwnProperty;let p=function(e,t){return function(i,n){var s=(0,c.Z)(i)?l:a,o=t?t():{};return s(i,e,(0,r.Z)(n,2),o)}}(function(e,t,i){o.call(e,i)?e[i].push(t):(0,n.Z)(e,i,[t])})}};